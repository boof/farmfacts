(function($){$.lazy=function(h){var j=h.src,name=h.name,cache=h.cache,self,arg,object={};$.lazy.archive[j]={'status':'unloaded','que':[]};function loadCSS(a,b,c,d,e){$.lazy.archive[a].status="loading";var f=document.createElement('link');f.type='text/css';f.rel='stylesheet';f.href=a;f.media='screen';document.getElementsByTagName("head")[0].appendChild(f);$.lazy.archive[a].status='loaded';if(b)b(c,d,e)}function loadJS(a,b,c,d,e){$.lazy.archive[a].status="loading";$.ajax({type:"GET",url:a,cache:cache,dataType:"script",success:function(){$.lazy.archive[a].status='loaded';if(b){b(c,d,e)}}})}function loadPlugin(a,b,c){function callback(){if(typeof a=='object'){a.each(function(){if(c.length>0){$(this)[b].apply(a,c)}else{$(this)[b]()}})}else{$[b].apply(null,c)}$.each($.lazy.archive[j].que,function(i){$.lazy.archive[j].que[i]()});$.lazy.archive[j].que=[]}loadJS(j,callback,a,b,c)}object[name]=function(){var e=this;arg=arguments;if($.lazy.archive[j].status==='loaded'){$.each(this,function(){$(this)[name].apply(e,arg)})}else if($.lazy.archive[j].status==='loading'){$.lazy.archive[j].que.push(function(){object[name].apply(e,arg)})}else{$.lazy.archive[j].status='loading';if(h.dependencies){var f=h.dependencies.css||[],js=h.dependencies.js||[];var g=f.length+js.length;function loadDependencies(a,b,c){var d=a.length,j;a=a.reverse();while(d--&&g--){j=a[d];if(typeof $.lazy.archive[j]=='undefined'){$.lazy.archive[j]={'status':'unloaded','que':[]}}if($.lazy.archive[j].status==='unloaded'){if(!g){b(j,function(){loadPlugin(e,name,arg)})}else{b(j)}}else if(!g){loadPlugin(e,name,arg)}}}loadDependencies(f,loadCSS);loadDependencies(js,loadJS)}else{loadPlugin(e,name,arg)}}return this};jQuery.fn.extend(object);jQuery.extend(object)};$.lazy.archive={}})(jQuery);